
@{
    ViewBag.Title = "Guest_InformationList";
    Layout = "~/Views/Shared/_CardRegisterLayout.cshtml";
}
<div class="col-md-12">
    <table id="tblGuestList" border="1">
        <thead>
            <tr>
                <th>HotelCode</th>
                <th>ReservationNo</th>
                <th>RoomNo</th>
                <th>SystemDate</th>
                <th>GuestName</th>
                <th>KanaName</th>
                <th>ZipCode</th>
                <th>Tel</th>
                <th>Address1</th>
                <th>Address2</th>
                <th>Company</th>
                <th>Nationality</th>
                <th>PassportNo</th>
            </tr>
        </thead>
    </table>
</div>

@section Scripts{
    <script>
        $(document).ready(function () {

            var CardRegisterInfo = { SystemID: "e-card", PmsID: "FMFS", PmsPassword: "Abc123#", HotelCode: "000001", MachineNo: "01" };
            $.ajax({
                type: "Post",
                url: "@Url.Action("getRegistrationCardData", "api/CardAPI")",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                data: JSON.stringify(CardRegisterInfo),

                success: function (response) {
                    BindGuestInformationTable(response);
                }
            });
        });


        function BindGuestInformationTable(response) {

            table = $('#tblGuestList').DataTable({

                data: JSON.parse(response),
                "bFilter": false,
                "bLengthChange": false,
                "bInfo": false,
                "ordering": false,
                destroy: true,
                scrollX: true,
                paging: false,
                "columns": [
                   
                    { "data": "reservationno", orderable: false, "width": "13%" },
                    { "data": "roomno", orderable: false, "width": "13%" },
                    { "data": "systemdate", orderable: false, "width": "13%" },
                    { "data": "guestname", orderable: false, "width": "13%" },
                    { "data": "kananame", orderable: false, "width": "13%" },
                    { "data": "zipcode", orderable: false, "width": "13%" },
                    { "data": "tel", orderable: false, "width": "13%" },
                    { "data": "address1", orderable: false, "width": "13%" },
                    { "data": "address2", orderable: false, "width": "13%" },
                    { "data": "company", orderable: false, "width": "13%" },
                    { "data": "nationality", orderable: false, "width": "13%" },
                    { "data": "passportno", orderable: false, "width": "13%" },
                    { "data": "sign_filename", orderable: false, "width": "13%" },
                ]

            });
        }

    </script>
}

